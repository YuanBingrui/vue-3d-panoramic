{"version":3,"sources":["webpack:///./src/3Dlibs/3DRenderer.js","webpack:///src/components/ThreeDshow/ThreeDshow.vue","webpack:///./src/components/ThreeDshow/ThreeDshow.vue?5ea8","webpack:///./src/components/ThreeDshow/ThreeDshow.vue","webpack:///src/views/home/home.vue","webpack:///./src/views/home/home.vue?5ab8","webpack:///./src/views/home/home.vue","webpack:///src/App.vue","webpack:///./src/App.vue?5794","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["ThreeRender","_main_","THREE","threeDshowBoxObj","camera","scene","renderer","geometry","material","mesh","touchX","touchY","boxWidth","boxHeight","target","Vector3","lon","lat","phi","theta","isUserInteracting","$el","clientWidth","clientHeight","PerspectiveCamera","Scene","SphereBufferGeometry","scale","textureCube","CubeTextureLoader","load","cubeImg","MeshBasicMaterial","envMap","Mesh","add","hasChildNodes","removeChild","firstChild","removeAllChild","WebGLRenderer","setPixelRatio","window","devicePixelRatio","setSize","appendChild","domElement","$on","onDocumentMouseDown","onDocumentMouseWheel","onDocumentTouchStart","onDocumentTouchMove","handleResize","addEventListener","onWindowResize","init","animate","requestAnimationFrame","Math","max","min","degToRad","x","sin","cos","y","z","lookAt","render","$emit","vmthreeD","aspect","updateProjectionMatrix","event","onDocumentMouseMove","onDocumentMouseUp","movementX","mozMovementX","webkitMovementX","movementY","mozMovementY","webkitMovementY","$off","fov","deltaY","touch","touches","screenX","screenY","_DRenderer","ThreeDshow","String","Array","this","modeName","ThreeDshow_ThreeDshow","_vm","_h","$createElement","_self","_c","attrs","id","data-content","on","mousedown","$event","preventDefault","autoMobile","mousewheel","wheelZoom","mousemove","mouseMove","mouseup","mouseUp","touchstart","touchStart","touchmove","touchMove","staticRenderFns","home","__webpack_require__","normalizeComponent","ssrContext","name","fileList","url","pop","warning","length","_this","command","_this2","Image","tempUrl","height","home_home","staticClass","size","click","generatePanorama","_v","staticStyle","color","margin-left","margin-right","switchMode","_s","slot","_l","mode","action","list-type","on-preview","handlePictureCardPreview","on-remove","handleRemove","on-change","handleChange","auto-upload","limit","on-exceed","handleExceed","visible","dialogVisible","update:visible","width","src","dialogImageUrl","alt","cube-img","mode-name","App","Home","home_normalizeComponent","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","vue_esm","config","productionTip","use","lib_button_default","a","lib_input_default","lib_upload_default","lib_dropdown_default","lib_dropdown_menu_default","lib_dropdown_item_default","lib_dialog_default","lib_message_default","prototype","$message","el","template","components"],"mappings":"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","file":"3DPanoramic/static/js/app.6065edb08332d65fa336.js","sourcesContent":["var ThreeRender = {};\r\n\r\nThreeRender._main_ = function(THREE, threeDshowBoxObj) {\r\n\tvar camera, scene, renderer;\r\n\tvar geometry, material, mesh;\r\n\tvar target = new THREE.Vector3();\r\n\r\n\tvar lon = -90, lat = 0,\r\n\t\t\tphi = 0, theta = 0,\r\n\t\t\ttouchX, touchY, isUserInteracting = false,\r\n\t\t\tboxWidth, boxHeight;\r\n\r\n\tinit();\r\n\tanimate();\r\n\r\n\tfunction init() {\r\n\t\tboxWidth = threeDshowBoxObj.$el.clientWidth;\r\n\t\tboxHeight = threeDshowBoxObj.$el.clientHeight - 33;\r\n\r\n\t\tcamera = new THREE.PerspectiveCamera( 260, boxWidth / boxHeight, 1, 1000 );\r\n\r\n\t\tscene = new THREE.Scene();\r\n\r\n\t\tgeometry = new THREE.SphereBufferGeometry( 500, 60, 40 );\r\n\t\tgeometry.scale( -1, 1, 1 );\r\n\r\n\t\tvar loader = new THREE.CubeTextureLoader();\r\n\t\t//loader.setPath( '../../static/cube/' );\r\n\r\n\t\tvar textureCube = loader.load(threeDshowBoxObj.cubeImg);\r\n\r\n\t\tmaterial = new THREE.MeshBasicMaterial( { envMap: textureCube } );\r\n\r\n\t\tmesh = new THREE.Mesh( geometry, material );\r\n\r\n\t\tscene.add( mesh );\r\n\r\n\t\tremoveAllChild();\r\n\t\trenderer = new THREE.WebGLRenderer();\r\n\t\trenderer.setPixelRatio( window.devicePixelRatio );\r\n\t\trenderer.setSize( boxWidth, boxHeight );\r\n\t\tthreeDshowBoxObj.$el.appendChild( renderer.domElement );\r\n\r\n\t\tthreeDshowBoxObj.$on( 'mousedown', onDocumentMouseDown );\r\n    threeDshowBoxObj.$on( 'wheel', onDocumentMouseWheel );\r\n\r\n    threeDshowBoxObj.$on( 'touchstart', onDocumentTouchStart );\r\n    threeDshowBoxObj.$on( 'touchmove', onDocumentTouchMove );\r\n    threeDshowBoxObj.$on( 'handelresize', handleResize );\r\n\r\n    window.addEventListener( 'resize', onWindowResize, false );\r\n  }\r\n  function animate() {\r\n\r\n    requestAnimationFrame(animate);\r\n    if (isUserInteracting) {\r\n\t\t\tlon += 0.1;\r\n\t\t}\r\n    lat = Math.max( - 85, Math.min( 85, lat ) );\r\n    phi = THREE.Math.degToRad( 90 - lat );\r\n    theta = THREE.Math.degToRad( lon );\r\n\r\n    target.x = 500 * Math.sin( phi ) * Math.cos( theta );\r\n    target.y = 500 * Math.cos( phi );\r\n    target.z = 500 * Math.sin( phi ) * Math.sin( theta );\r\n\r\n    camera.lookAt( target );\r\n    renderer.render( scene, camera );\r\n\r\n\t}\r\n\r\n\tfunction onWindowResize() {\r\n    threeDshowBoxObj.$emit('handelresize', threeDshowBoxObj);\r\n\t}\r\n\r\n\tfunction handleResize(vmthreeD){\r\n\t\t\r\n\t\tcamera.aspect = vmthreeD.$el.clientWidth / (vmthreeD.$el.clientHeight - 33);\r\n    camera.updateProjectionMatrix();\r\n\r\n    renderer.setSize( vmthreeD.$el.clientWidth, vmthreeD.$el.clientHeight - 33 );\r\n\r\n\t}\r\n\r\n\tfunction onDocumentMouseDown( event ) {\r\n\r\n    if(isUserInteracting){\r\n    \tisUserInteracting = false;\r\n    }else{\r\n    \tisUserInteracting = true;\r\n    }\r\n\r\n    threeDshowBoxObj.$on( 'mousemove', onDocumentMouseMove );\r\n    threeDshowBoxObj.$on( 'mouseup', onDocumentMouseUp );\r\n\r\n\t}\r\n\r\n\tfunction onDocumentMouseMove( event ) {\r\n\r\n    var movementX = event.movementX || event.mozMovementX || event.webkitMovementX || 0;\r\n    var movementY = event.movementY || event.mozMovementY || event.webkitMovementY || 0;\r\n\r\n    lon -= movementX * 0.1;\r\n    lat += movementY * 0.1;\r\n\r\n\t}\r\n\r\n\tfunction onDocumentMouseUp( event ) {\r\n\r\n    threeDshowBoxObj.$off( 'mousemove', onDocumentMouseMove );\r\n    threeDshowBoxObj.$off( 'mouseup', onDocumentMouseUp );\r\n\r\n\t}\r\n\r\n\tfunction onDocumentMouseWheel( event ) {\r\n\t\tif(camera.fov >= 260 && camera.fov <= 350){\r\n\t\t\tcamera.fov += event.deltaY * 0.05;\r\n\t\t\tif(camera.fov === 255) {\r\n\t\t\t\tcamera.fov = 260;\r\n\t\t\t}\r\n\t\t\tif(camera.fov === 355) {\r\n\t\t\t\tcamera.fov = 350;\r\n\t\t\t}\r\n\t\t\tcamera.updateProjectionMatrix();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onDocumentTouchStart( event ) {\r\n\r\n    var touch = event.touches[ 0 ];\r\n\r\n    touchX = touch.screenX;\r\n    touchY = touch.screenY;\r\n\r\n\t}\r\n\r\n\tfunction onDocumentTouchMove( event ) {\r\n\r\n    var touch = event.touches[ 0 ];\r\n\r\n    lon -= ( touch.screenX - touchX ) * 0.1;\r\n    lat += ( touch.screenY - touchY ) * 0.1;\r\n\r\n    touchX = touch.screenX;\r\n    touchY = touch.screenY;\r\n\r\n\t}\r\n\r\n\tfunction removeAllChild() {    \r\n    while(threeDshowBoxObj.$el.hasChildNodes()) {\r\n      threeDshowBoxObj.$el.removeChild(threeDshowBoxObj.$el.firstChild);  \r\n    }  \r\n\t} \r\n}\r\n\r\nexport default ThreeRender;\n\n\n// WEBPACK FOOTER //\n// ./src/3Dlibs/3DRenderer.js","<template>\r\n  <div\r\n    id=\"threeDshowBox\"\r\n    data-content=\"\"\r\n    @mousedown.prevent=\"autoMobile\"\r\n    @mousewheel.prevent=\"wheelZoom\"\r\n    @mousemove.prevent=\"mouseMove\"\r\n    @mouseup.prevent=\"mouseUp\"\r\n    @touchstart.prevent=\"touchStart\"\r\n    @touchmove.prevent=\"touchMove\">\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as THREE from 'three';\r\nimport ThreeRender from '@/3Dlibs/3DRenderer';\r\n\r\nexport default {\r\n  name: 'ThreeDshow',\r\n  props: {\r\n    modeName: {\r\n      type: String,\r\n      default: '全景图'\r\n    },\r\n    cubeImg: {\r\n      validator: (val) => val instanceof Array\r\n    }\r\n  },\r\n  data () {\r\n    return {}\r\n  },\r\n  watch: {\r\n    cubeImg: function() {\r\n      ThreeRender._main_(THREE, this);\r\n    },\r\n    modeName: function() {\r\n      this.$el.dataset.content = this.modeName;\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$el.dataset.content = this.modeName;\r\n    ThreeRender._main_(THREE, this);\r\n  },\r\n  methods: {\r\n    autoMobile(event){\r\n      this.$emit('mousedown', event);\r\n    },\r\n    mouseMove(event){\r\n      this.$emit('mousemove', event);\r\n    },\r\n    mouseUp(event){\r\n      this.$emit('mouseup', event);\r\n    },\r\n    wheelZoom(event){\r\n      this.$emit('wheel', event);\r\n    },\r\n    touchStart(event){\r\n      this.$emit('touchstart', event);\r\n    },\r\n    touchMove(event){\r\n      this.$emit('touchmove', event);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style leng=\"less\" scoped>\r\n  @import \"./ThreeDshow.less\";\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/ThreeDshow/ThreeDshow.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"threeDshowBox\",\"data-content\":\"\"},on:{\"mousedown\":function($event){$event.preventDefault();_vm.autoMobile($event)},\"mousewheel\":function($event){$event.preventDefault();_vm.wheelZoom($event)},\"mousemove\":function($event){$event.preventDefault();_vm.mouseMove($event)},\"mouseup\":function($event){$event.preventDefault();_vm.mouseUp($event)},\"touchstart\":function($event){$event.preventDefault();_vm.touchStart($event)},\"touchmove\":function($event){$event.preventDefault();_vm.touchMove($event)}}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-907d8ece\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ThreeDshow/ThreeDshow.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-907d8ece\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ThreeDshow.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ThreeDshow.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ThreeDshow.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-907d8ece\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ThreeDshow.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-907d8ece\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ThreeDshow/ThreeDshow.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"home\">\r\n    <div class=\"headerBtnBox\">\r\n      <el-button\r\n        size=\"medium\"\r\n        @click=\"generatePanorama\">\r\n        生成全景图\r\n      </el-button>\r\n      <div style=\"color: #c1c1c1;margin-left: 5px; margin-right: 60%;\">(ps: 上传图片的顺序为左、右、上、下、前、后)</div>\r\n      <el-dropdown\r\n        @command=\"switchMode\">\r\n        <el-button\r\n          size=\"medium\">\r\n          {{modeName}}\r\n          <i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n        </el-button>\r\n        <el-dropdown-menu slot=\"dropdown\">\r\n          <template\r\n            v-for=\"mode in modeArr\">\r\n            <el-dropdown-item\r\n              :command=\"mode.id\">\r\n              {{mode.name}}\r\n            </el-dropdown-item>\r\n          </template>\r\n        </el-dropdown-menu>\r\n      </el-dropdown>\r\n    </div>\r\n    <div class=\"contentBox\">\r\n      <div class=\"leftBox\">\r\n        <div class=\"titleFontSize\">平面图</div>\r\n        <div class=\"plainImgBox\">\r\n          <el-upload\r\n            action=\"\"\r\n            list-type=\"picture-card\"\r\n            :on-preview=\"handlePictureCardPreview\"\r\n            :on-remove=\"handleRemove\"\r\n            :on-change=\"handleChange\"\r\n            :auto-upload=\"false\"\r\n            :limit=\"6\"\r\n            :on-exceed=\"handleExceed\"\r\n            class=\"upload-card\">\r\n            <i class=\"el-icon-plus\"></i>\r\n          </el-upload>\r\n          <el-dialog\r\n            :visible.sync=\"dialogVisible\">\r\n            <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\r\n          </el-dialog>\r\n        </div>  \r\n      </div>\r\n      <div class=\"rightBox\">\r\n        <ThreeDshow\r\n          :cube-img=\"cubeImg\"\r\n          :mode-name=\"modeName\">\r\n        </ThreeDshow>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ThreeDshow from '@/components/ThreeDshow/ThreeDshow'\r\n\r\nexport default {\r\n  name: 'Home',\r\n  components: {\r\n    ThreeDshow\r\n  },\r\n  data () {\r\n    return {\r\n      dialogImageUrl: '',\r\n      dialogVisible: false,\r\n      modeName: '3D全景',\r\n      cubeImg: [\r\n        '/3DPanoramic/static/cube/posx.jpg', '/3DPanoramic/static/cube/negx.jpg',\r\n        '/3DPanoramic/static/cube/posy.jpg', '/3DPanoramic/static/cube/negy.jpg',\r\n        '/3DPanoramic/static/cube/posz.jpg', '/3DPanoramic/static/cube/negz.jpg'\r\n      ],\r\n      modeArr: [\r\n        {id: '3DPanorama', name: '3D全景'},\r\n        {id: '3DPanorama1', name: '3D全景1'},\r\n        {id: '3DPanorama2', name: '3D全景2'},\r\n        {id: '3DPanorama3', name: '3D全景3'}],\r\n      tempCubeImg: []\r\n    }\r\n  },\r\n  methods: {\r\n    handleRemove(file, fileList) {\r\n      console.log(file, fileList);\r\n    },\r\n    handlePictureCardPreview(file) {\r\n      this.dialogImageUrl = file.url;\r\n      this.dialogVisible = true;\r\n    },\r\n    handleChange(file, fileList) {\r\n      if(fileList[fileList.length-1].raw.type === 'image/jpeg' || fileList[fileList.length-1].raw.type === 'image/png'){\r\n        this.tempCubeImg = fileList;\r\n      }else{\r\n        fileList.pop();\r\n        this.$message.warning(`只能上传jpg或png格式的图片`);\r\n      }\r\n    },\r\n    handleExceed(files, fileList) {\r\n      this.$message.warning(`只能上传${fileList.length}个文件`);\r\n    },\r\n    generatePanorama() {\r\n      if(this.tempCubeImg.length === 6){\r\n        this.tempCubeImg.forEach((value, index) => {\r\n          this.$set(this.cubeImg, index, this.changeImgSize(this.tempCubeImg[index].url)); \r\n        })\r\n      }else{\r\n        this.$message.warning(`必须上传6张图片`);\r\n      }\r\n    },\r\n    switchMode(command) {\r\n      this.initMode(command)\r\n    },\r\n    initMode(command) {\r\n      this.modeArr.map(one => {\r\n        if(one.id === command){\r\n          this.modeName = one.name;\r\n        }\r\n      })\r\n    },\r\n    changeImgSize(tempUrl){\r\n\r\n      let tempCanvas = this.$parent.$el.ownerDocument.createElement('canvas');\r\n      let tempCtx = tempCanvas.getContext('2d'); \r\n      tempCanvas.width = 1024;\r\n      tempCanvas.height = 1024;\r\n\r\n      let tempImg = new Image();\r\n      tempImg.src = tempUrl;\r\n      tempCtx.drawImage(tempImg, 0, 0, tempCanvas.width, tempCanvas.height);\r\n\r\n      return tempCanvas.toDataURL(\"image/png\");\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n  @import \"./home.less\";\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/home/home.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('div',{staticClass:\"headerBtnBox\"},[_c('el-button',{attrs:{\"size\":\"medium\"},on:{\"click\":_vm.generatePanorama}},[_vm._v(\"\\n      生成全景图\\n    \")]),_vm._v(\" \"),_c('div',{staticStyle:{\"color\":\"#c1c1c1\",\"margin-left\":\"5px\",\"margin-right\":\"60%\"}},[_vm._v(\"(ps: 上传图片的顺序为左、右、上、下、前、后)\")]),_vm._v(\" \"),_c('el-dropdown',{on:{\"command\":_vm.switchMode}},[_c('el-button',{attrs:{\"size\":\"medium\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.modeName)+\"\\n        \"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_vm._l((_vm.modeArr),function(mode){return [_c('el-dropdown-item',{attrs:{\"command\":mode.id}},[_vm._v(\"\\n            \"+_vm._s(mode.name)+\"\\n          \")])]})],2)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"contentBox\"},[_c('div',{staticClass:\"leftBox\"},[_c('div',{staticClass:\"titleFontSize\"},[_vm._v(\"平面图\")]),_vm._v(\" \"),_c('div',{staticClass:\"plainImgBox\"},[_c('el-upload',{staticClass:\"upload-card\",attrs:{\"action\":\"\",\"list-type\":\"picture-card\",\"on-preview\":_vm.handlePictureCardPreview,\"on-remove\":_vm.handleRemove,\"on-change\":_vm.handleChange,\"auto-upload\":false,\"limit\":6,\"on-exceed\":_vm.handleExceed}},[_c('i',{staticClass:\"el-icon-plus\"})]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"rightBox\"},[_c('ThreeDshow',{attrs:{\"cube-img\":_vm.cubeImg,\"mode-name\":_vm.modeName}})],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d0d7a1ec\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/home/home.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d0d7a1ec\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./home.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./home.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./home.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d0d7a1ec\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./home.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/home/home.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <Home/>\n  </div>\n</template>\n\n<script>\nimport Home from '@/views/home/home'\n\nexport default {\n  name: 'app',\n  components: {\n    Home\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Home')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6fbeb2be\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6fbeb2be\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6fbeb2be\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport { Button, Input, Upload, Dialog, Message, Dropdown, DropdownMenu, DropdownItem } from 'element-ui'\n\nVue.config.productionTip = false\n\nVue.use(Button)\nVue.use(Input)\nVue.use(Upload)\nVue.use(Dropdown)\nVue.use(DropdownMenu)\nVue.use(DropdownItem)\nVue.use(Dialog)\nVue.use(Message)\n\nVue.prototype.$message = Message\n\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}